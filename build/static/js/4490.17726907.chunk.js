"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[4490],{54781:function(e,a,l){var n=l(29439),o=l(72791),d=l(78983),s=(l(24846),l(65529)),i=l(6981),t=l(80184);a.Z=function(e){var a=e.isshowform,l=e.onClose,r=e.data,u=e.onPlan;console.log("userdata--",null===r||void 0===r?void 0:r._id);var c=["days","month","weeks","years"],v=["Normal","Popular","Exclusive"],m=(0,o.useState)(null===r||void 0===r?void 0:r.planname),x=(0,n.Z)(m,2),h=x[0],p=x[1],j=(0,o.useState)(null===r||void 0===r?void 0:r.aboutus),f=(0,n.Z)(j,2),b=f[0],N=f[1],g=(0,o.useState)(null===r||void 0===r?void 0:r.rate),y=(0,n.Z)(g,2),_=y[0],w=y[1],C=(0,o.useState)(null===r||void 0===r?void 0:r.discount),S=(0,n.Z)(C,2),V=S[0],R=S[1],Z=(0,o.useState)(null===r||void 0===r?void 0:r.duration),k=(0,n.Z)(Z,2),Y=k[0],P=k[1],E=(0,o.useState)(null===r||void 0===r?void 0:r.passtype),A=(0,n.Z)(E,2),D=A[0],O=A[1],T=(0,o.useState)(null===r||void 0===r?void 0:r.country),U=(0,n.Z)(T,2),X=U[0],q=U[1],L=(0,o.useState)(),W=(0,n.Z)(L,2),F=W[0],I=W[1],J=(0,o.useState)(JSON.parse(localStorage.getItem("userdata"))),z=(0,n.Z)(J,2),B=z[0],G=(z[1],function(e){var a=new FormData;a.append("plan_id",null===r||void 0===r?void 0:r._id),a.append("createdbyuserid",null===B||void 0===B?void 0:B._id),a.append("planname",(0,i.xb)(h)?null===r||void 0===r?void 0:r.planname:h),a.append("aboutus",(0,i.xb)(b)?null===r||void 0===r?void 0:r.aboutus:b),a.append("rate",(0,i.xb)(_)?null===r||void 0===r?void 0:r.rate:_),a.append("discount",(0,i.xb)(V)?null===r||void 0===r?void 0:r.discount:V),a.append("duration",(0,i.xb)(Y)?null===r||void 0===r?void 0:r.duration:Y),a.append("country",(0,i.xb)(X)?null===r||void 0===r?void 0:r.country:X),a.append("passtype",(0,i.xb)(D)?r.passtype:D),a.append("image",F),a.append("usertype",null===B||void 0===B?void 0:B.user_type),u(a,e)});return(0,t.jsxs)(d.Tk,{fullscreen:"md",visible:a,onClose:l,children:[(0,t.jsx)(d.p0,{children:(0,t.jsx)(d.fl,{children:(0,i.xb)(null===r||void 0===r?void 0:r._id)?"Add New Plan":"Update Plan"})}),(0,t.jsxs)(d.sD,{className:"px-4 py-3 border mx-4 my-3 modal-shadow rounded",children:[(0,t.jsx)("p",{className:"text-medium-emphasis",children:"".concat((0,i.xb)(null===r||void 0===r?void 0:r._id)?"Create":"Update"," your  account")}),(0,t.jsxs)(d.YR,{className:"mb-3",children:[(0,t.jsx)(d.wV,{children:(0,t.jsx)("i",{className:"fa fa-id-card"})}),(0,t.jsx)(d.jO,{defaultValue:null===r||void 0===r?void 0:r.planname,value:h,onChange:function(e){return p(e.target.value)},placeholder:"Enter your plan name",autoComplete:"planname"})]}),(0,t.jsxs)(d.YR,{className:"mb-3",children:[(0,t.jsx)(d.wV,{children:(0,t.jsx)("i",{className:"fa fa-comment"})}),(0,t.jsx)(d.jO,{defaultValue:null===r||void 0===r?void 0:r.aboutus,value:b,onChange:function(e){return N(e.target.value)},placeholder:"About us",autoComplete:"question"})]}),(0,t.jsxs)(d.rb,{children:[(0,t.jsx)(d.b7,{children:(0,t.jsxs)(d.YR,{className:"mb-3",children:[(0,t.jsx)(d.wV,{children:(0,t.jsx)("i",{className:"fa fa-rupee"})}),(0,t.jsx)(d.jO,{defaultValue:null===r||void 0===r?void 0:r.rate,value:_,onChange:function(e){return w(e.target.value)},placeholder:"Enter your rate per unit",autoComplete:"question",type:"number"})]})}),(0,t.jsx)(d.b7,{children:(0,t.jsxs)(d.YR,{className:"mb-3",children:[(0,t.jsx)(d.wV,{children:(0,t.jsx)("i",{className:"fa fa-dollar"})}),(0,t.jsx)(d.jO,{defaultValue:null===r||void 0===r?void 0:r.discount,value:V,onChange:function(e){return R(e.target.value)},placeholder:"discount",autoComplete:"question",type:"number"})]})})]}),(0,t.jsxs)(d.rb,{children:[(0,t.jsx)(d.b7,{children:(0,t.jsxs)(d.YR,{className:"mb-3",children:[(0,t.jsx)(d.wV,{children:(0,t.jsx)("i",{className:"fa fa-flag"})}),(0,t.jsxs)(d.LX,{id:"country",defaultValue:null===r||void 0===r?void 0:r.country,value:X,onChange:function(e){return q(e.target.value)},children:[(0,t.jsx)("option",{children:"Choose Your Country..."}),null===s||void 0===s?void 0:s.map((function(e){return(0,t.jsx)("option",{children:e.country_name},e.country_name)}))]})]})}),(0,t.jsx)(d.b7,{children:(0,t.jsxs)(d.YR,{className:"mb-3",children:[(0,t.jsx)(d.wV,{children:(0,t.jsx)("i",{className:"fa fa-calendar"})}),(0,t.jsxs)(d.LX,{id:"duration",defaultValue:null===r||void 0===r?void 0:r.duration,value:Y,onChange:function(e){return P(e.target.value)},children:[(0,t.jsx)("option",{children:"Choose Your Duration..."}),null===c||void 0===c?void 0:c.map((function(e,a){return(0,t.jsx)("option",{children:e},e)}))]})]})}),(0,t.jsx)(d.b7,{children:(0,t.jsxs)(d.YR,{className:"mb-3",children:[(0,t.jsx)(d.wV,{children:(0,t.jsx)("i",{className:"fa fa-credit-card"})}),(0,t.jsxs)(d.LX,{id:"passtype",defaultValue:null===r||void 0===r?void 0:r.passtype,value:D,onChange:function(e){return O(e.target.value)},children:[(0,t.jsx)("option",{children:"Choose Your Passtype..."}),null===v||void 0===v?void 0:v.map((function(e,a){return(0,t.jsx)("option",{children:e},e)}))]})]})})]}),(0,t.jsxs)(d.YR,{className:"mb-3",children:[(0,t.jsx)(d.wV,{children:(0,t.jsx)("i",{className:"fa fa-image"})}),(0,t.jsx)(d.jO,{onChange:function(e){I(e.target.files[0])},type:"file",accept:"image/*",placeholder:"Please Enter your image"})]}),(0,t.jsx)("div",{className:"d-grid",onClick:function(){return(0,i.xb)(null===r||void 0===r?void 0:r._id)?G("add"):G("update")},children:(0,t.jsx)(d.u5,{className:"update_btn",children:(0,i.xb)(null===r||void 0===r?void 0:r._id)?"Add New Plan":"Update Plan"})})]})]})}},4490:function(e,a,l){l.r(a),l.d(a,{default:function(){return c}});var n=l(29439),o=l(78983),d=l(72791),s=(l(76277),l(6981)),i=l(57689),t=(l(54781),l(24846),l(65529),l(80184)),r=function(e){var a=e.isshowform,l=e.onClose,i=e.data,r=(0,d.useState)(null===i||void 0===i?void 0:i.rolename),u=(0,n.Z)(r,2),c=u[0],v=u[1];return(0,t.jsxs)(o.Tk,{fullscreen:"md",visible:a,onClose:l,children:[(0,t.jsx)(o.p0,{children:(0,t.jsx)(o.fl,{children:"Add New Role"})}),(0,t.jsxs)(o.sD,{className:"px-4 py-3 border mx-4 my-3 modal-shadow rounded",children:[(0,t.jsx)("p",{className:"text-medium-emphasis",children:"".concat((0,s.xb)(null===i||void 0===i?void 0:i._id)?"Create":"Update"," your  account")}),(0,t.jsxs)(o.YR,{className:"mb-3",children:[(0,t.jsx)(o.wV,{children:(0,t.jsx)("i",{className:"fa fa-user"})}),(0,t.jsx)(o.jO,{defaultValue:(0,s.xb)(null===i||void 0===i?void 0:i._id)?c:null===i||void 0===i?void 0:i.rolename,value:c,onChange:function(e){return v(e.target.value)},placeholder:"Enter your role name",autoComplete:"rolename"})]}),(0,t.jsx)("div",{className:"d-grid",onClick:function(){return(0,s.xb)(null===i||void 0===i?void 0:i._id)?void((0,s.xb)(c)?alert("Please Enter your missing field"):s.be.post("v1.0/role/add-role",{rolename:c}).then((function(e){console.log("role",e.data),e.data.status?(alert(e.data.message),l()):alert(e.data.message)}))):function(){var e={_id:null===i||void 0===i?void 0:i._id,rolename:c};try{s.be.put("v1.0/role/update-role",e).then((function(e){e.data.status?(alert(e.data.message),l()):alert(e.data.message)}))}catch(a){alert("Something went wrong")}}()},children:(0,t.jsx)(o.u5,{className:"update_btn",children:(0,s.xb)(null===i||void 0===i?void 0:i._id)?"Add New Role":"Update Role"})})]})]})},u=l(99946),c=function(){var e=(0,d.useState)(),a=(0,n.Z)(e,2),l=a[0],c=a[1],v=(0,d.useState)(!1),m=(0,n.Z)(v,2),x=m[0],h=m[1],p=(0,d.useState)(),j=(0,n.Z)(p,2),f=j[0],b=j[1],N=(0,i.s0)(),g=function(){s.be.get("v1.0/role/get-all-role").then((function(e){var a,l,n;null!==e&&void 0!==e&&null!==(a=e.data)&&void 0!==a&&a.status&&(c(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.data),console.log("role",null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data))})).catch((function(e){N("404"),console.log("Error",e)}))};(0,d.useEffect)((function(){x||(g(),b(""))}),[x]);return(0,t.jsxs)("div",{children:[(0,t.jsx)(r,{isshowform:x,onClose:function(){return h(!1)},data:f}),(0,t.jsx)("div",{children:(0,t.jsx)("div",{onClick:function(){return h(!0)},className:"button-1",children:"+ Add New Role"})}),(0,t.jsxs)(o.Sx,{children:[(0,t.jsx)(o.V,{children:(0,t.jsxs)(o.T6,{children:[(0,t.jsx)(o.is,{scope:"col",className:"fw-bold",children:"#"}),(0,t.jsx)(o.is,{scope:"col",className:"fw-bold",children:"Role Name"}),(0,t.jsx)(o.is,{scope:"col",className:"action fw-bold mx-auto",children:"Action"})]})}),(0,t.jsx)(o.NR,{className:"body-divider",children:(null===l||void 0===l?void 0:l.length)>0&&(null===l||void 0===l?void 0:l.map((function(e,a){return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(o.T6,{className:"table-row",children:[(0,t.jsx)(o.is,{scope:"row",children:a+1}),(0,t.jsx)(o.NN,{children:(0,s.gw)(null===e||void 0===e?void 0:e.rolename)}),(0,t.jsx)(o.NN,{children:(0,t.jsxs)(o.rb,{className:"gym_action mx-auto",children:[(0,t.jsx)(o.b7,{children:(0,t.jsx)(o.DW,{rounded:!0,src:u.dT,className:"icons"})}),(0,t.jsx)(o.b7,{onClick:function(){return function(e){b(e),h(!0)}(e)},className:"float-end",children:(0,t.jsx)(o.DW,{rounded:!0,src:u._t,className:"icons"})}),(0,t.jsx)(o.b7,{onClick:function(){return a=null===e||void 0===e?void 0:e._id,void s.be.delete("v1.0/role/delete-role/".concat(a)).then((function(e){var a,l,n;null!==e&&void 0!==e&&null!==(a=e.data)&&void 0!==a&&a.status?(alert(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.message),g()):alert(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)})).catch((function(e){alert("Something went wrong")}));var a},className:"float-end",children:(0,t.jsx)(o.DW,{rounded:!0,src:u.X_,className:"icons"})})]})})]},a)})})))})]})]})}}}]);
//# sourceMappingURL=4490.17726907.chunk.js.map