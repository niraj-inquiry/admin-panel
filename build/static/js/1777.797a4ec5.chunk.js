"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[1777],{54781:function(e,n,a){var l=a(29439),d=a(72791),i=a(78983),o=(a(24846),a(65529)),s=a(98051),t=a(80184);n.Z=function(e){var n=e.isshowform,a=e.onClose,u=e.data,r=e.onPlan;console.log("userdata--",null===u||void 0===u?void 0:u._id);var c=["days","month","weeks","years"],v=["Normal","Popular","Exclusive"],p=(0,d.useState)(null===u||void 0===u?void 0:u.planname),h=(0,l.Z)(p,2),f=h[0],m=h[1],x=(0,d.useState)(null===u||void 0===u?void 0:u.aboutus),j=(0,l.Z)(x,2),b=j[0],g=j[1],N=(0,d.useState)(null===u||void 0===u?void 0:u.rate),y=(0,l.Z)(N,2),w=y[0],_=y[1],C=(0,d.useState)(null===u||void 0===u?void 0:u.discount),S=(0,l.Z)(C,2),V=S[0],Z=S[1],R=(0,d.useState)(null===u||void 0===u?void 0:u.duration),P=(0,l.Z)(R,2),Y=P[0],k=P[1],E=(0,d.useState)(null===u||void 0===u?void 0:u.passtype),D=(0,l.Z)(E,2),O=D[0],A=D[1],T=(0,d.useState)(null===u||void 0===u?void 0:u.country),U=(0,l.Z)(T,2),X=U[0],L=U[1],W=(0,d.useState)(),q=(0,l.Z)(W,2),I=q[0],F=q[1],J=(0,d.useState)(JSON.parse(localStorage.getItem("userdata"))),z=(0,l.Z)(J,2),B=z[0],G=(z[1],function(e){var n=new FormData;n.append("plan_id",null===u||void 0===u?void 0:u._id),n.append("createdbyuserid",null===B||void 0===B?void 0:B._id),n.append("planname",(0,s.xb)(f)?null===u||void 0===u?void 0:u.planname:f),n.append("aboutus",(0,s.xb)(b)?null===u||void 0===u?void 0:u.aboutus:b),n.append("rate",(0,s.xb)(w)?null===u||void 0===u?void 0:u.rate:w),n.append("discount",(0,s.xb)(V)?null===u||void 0===u?void 0:u.discount:V),n.append("duration",(0,s.xb)(Y)?null===u||void 0===u?void 0:u.duration:Y),n.append("country",(0,s.xb)(X)?null===u||void 0===u?void 0:u.country:X),n.append("passtype",(0,s.xb)(O)?u.passtype:O),n.append("image",I),n.append("usertype",null===B||void 0===B?void 0:B.user_type),r(n,e)});return(0,t.jsxs)(i.Tk,{fullscreen:"md",visible:n,onClose:a,children:[(0,t.jsx)(i.p0,{children:(0,t.jsx)(i.fl,{children:(0,s.xb)(null===u||void 0===u?void 0:u._id)?"Add New Plan":"Update Plan"})}),(0,t.jsxs)(i.sD,{className:"px-4 py-3 border mx-4 my-3 modal-shadow rounded",children:[(0,t.jsx)("p",{className:"text-medium-emphasis",children:"".concat((0,s.xb)(null===u||void 0===u?void 0:u._id)?"Create":"Update"," your  account")}),(0,t.jsxs)(i.YR,{className:"mb-3",children:[(0,t.jsx)(i.wV,{children:(0,t.jsx)("i",{className:"fa fa-id-card"})}),(0,t.jsx)(i.jO,{defaultValue:null===u||void 0===u?void 0:u.planname,value:f,onChange:function(e){return m(e.target.value)},placeholder:"Enter your plan name",autoComplete:"planname"})]}),(0,t.jsxs)(i.YR,{className:"mb-3",children:[(0,t.jsx)(i.wV,{children:(0,t.jsx)("i",{className:"fa fa-comment"})}),(0,t.jsx)(i.jO,{defaultValue:null===u||void 0===u?void 0:u.aboutus,value:b,onChange:function(e){return g(e.target.value)},placeholder:"About us",autoComplete:"question"})]}),(0,t.jsxs)(i.rb,{children:[(0,t.jsx)(i.b7,{children:(0,t.jsxs)(i.YR,{className:"mb-3",children:[(0,t.jsx)(i.wV,{children:(0,t.jsx)("i",{className:"fa fa-rupee"})}),(0,t.jsx)(i.jO,{defaultValue:null===u||void 0===u?void 0:u.rate,value:w,onChange:function(e){return _(e.target.value)},placeholder:"Enter your rate per unit",autoComplete:"question",type:"number"})]})}),(0,t.jsx)(i.b7,{children:(0,t.jsxs)(i.YR,{className:"mb-3",children:[(0,t.jsx)(i.wV,{children:(0,t.jsx)("i",{className:"fa fa-dollar"})}),(0,t.jsx)(i.jO,{defaultValue:null===u||void 0===u?void 0:u.discount,value:V,onChange:function(e){return Z(e.target.value)},placeholder:"discount",autoComplete:"question",type:"number"})]})})]}),(0,t.jsxs)(i.rb,{children:[(0,t.jsx)(i.b7,{children:(0,t.jsxs)(i.YR,{className:"mb-3",children:[(0,t.jsx)(i.wV,{children:(0,t.jsx)("i",{className:"fa fa-flag"})}),(0,t.jsxs)(i.LX,{id:"country",defaultValue:null===u||void 0===u?void 0:u.country,value:X,onChange:function(e){return L(e.target.value)},children:[(0,t.jsx)("option",{children:"Choose Your Country..."}),null===o||void 0===o?void 0:o.map((function(e){return(0,t.jsx)("option",{children:e.country_name},e.country_name)}))]})]})}),(0,t.jsx)(i.b7,{children:(0,t.jsxs)(i.YR,{className:"mb-3",children:[(0,t.jsx)(i.wV,{children:(0,t.jsx)("i",{className:"fa fa-calendar"})}),(0,t.jsxs)(i.LX,{id:"duration",defaultValue:null===u||void 0===u?void 0:u.duration,value:Y,onChange:function(e){return k(e.target.value)},children:[(0,t.jsx)("option",{children:"Choose Your Duration..."}),null===c||void 0===c?void 0:c.map((function(e,n){return(0,t.jsx)("option",{children:e},e)}))]})]})}),(0,t.jsx)(i.b7,{children:(0,t.jsxs)(i.YR,{className:"mb-3",children:[(0,t.jsx)(i.wV,{children:(0,t.jsx)("i",{className:"fa fa-credit-card"})}),(0,t.jsxs)(i.LX,{id:"passtype",defaultValue:null===u||void 0===u?void 0:u.passtype,value:O,onChange:function(e){return A(e.target.value)},children:[(0,t.jsx)("option",{children:"Choose Your Passtype..."}),null===v||void 0===v?void 0:v.map((function(e,n){return(0,t.jsx)("option",{children:e},e)}))]})]})})]}),(0,t.jsxs)(i.YR,{className:"mb-3",children:[(0,t.jsx)(i.wV,{children:(0,t.jsx)("i",{className:"fa fa-image"})}),(0,t.jsx)(i.jO,{onChange:function(e){F(e.target.files[0])},type:"file",accept:"image/*",placeholder:"Please Enter your image"})]}),(0,t.jsx)("div",{className:"d-grid",onClick:function(){return(0,s.xb)(null===u||void 0===u?void 0:u._id)?G("add"):G("update")},children:(0,t.jsx)(i.u5,{className:"update_btn",children:(0,s.xb)(null===u||void 0===u?void 0:u._id)?"Add New Plan":"Update Plan"})})]})]})}},21777:function(e,n,a){a.r(n),a.d(n,{default:function(){return c}});var l=a(29439),d=a(78983),i=a(72791),o=(a(76277),a(98051)),s=a(57689),t=(a(54781),a(24846),a(65529),a(80184)),u=function(e){var n,a,s,u=e.isshowform,r=e.onClose,c=e.data,v=e.onSave;console.log("refund process",null===c||void 0===c?void 0:c._id);var p=(0,i.useState)([]),h=(0,l.Z)(p,2),f=h[0],m=h[1],x=(0,i.useState)(null===c||void 0===c||null===(n=c.planinfo[0])||void 0===n?void 0:n.planname),j=(0,l.Z)(x,2),b=j[0],g=j[1],N=(0,i.useState)(null===c||void 0===c?void 0:c.refundwithinday),y=(0,l.Z)(N,2),w=y[0],_=y[1],C=(0,i.useState)(null===c||void 0===c?void 0:c.refundpercentage),S=(0,l.Z)(C,2),V=S[0],Z=S[1],R=localStorage.getItem("userid");console.log("userid",R),console.log("data?.planinfo[0]?.planname",null===c||void 0===c||null===(a=c.planinfo[0])||void 0===a?void 0:a.planname);var P=function(){o.be.get("v1.0/plan/get-all-plan").then((function(e){e.data.status&&m(e.data.data)}))};(0,i.useEffect)((function(){P()}),[]);return(0,i.useEffect)((function(){var e;g(null===c||void 0===c||null===(e=c.planinfo[0])||void 0===e?void 0:e.planname)}),[g]),(0,t.jsxs)(d.Tk,{fullscreen:"md",visible:u,onClose:r,children:[(0,t.jsx)(d.p0,{children:(0,t.jsx)(d.fl,{children:"Refund Polices"})}),(0,t.jsxs)(d.sD,{className:"px-4 py-3 border mx-4 my-3 modal-shadow rounded",children:[(0,t.jsx)("p",{className:"text-medium-emphasis",children:"".concat((0,o.xb)(null===c||void 0===c?void 0:c._id)?"Create":"Update"," your  account")}),(0,t.jsx)(d.rb,{children:(0,t.jsx)(d.b7,{children:(0,t.jsxs)(d.YR,{className:"mb-3",children:[(0,t.jsx)(d.wV,{children:(0,t.jsx)("i",{className:"fa fa-id-card"})}),(0,t.jsxs)(d.LX,{value:b,onChange:function(e){return g(e.target.value)},children:[(0,t.jsx)("option",{children:null===c||void 0===c||null===(s=c.planinfo[0])||void 0===s?void 0:s.planname}),null===f||void 0===f?void 0:f.map((function(e,n){return(0,t.jsx)("option",{value:e._id,children:e.planname},e._id)}))]})]})})}),(0,t.jsxs)(d.rb,{children:[(0,t.jsx)(d.b7,{children:(0,t.jsxs)(d.YR,{className:"mb-3",children:[(0,t.jsx)(d.wV,{children:(0,t.jsx)("i",{className:"fa fa-map-pin"})}),(0,t.jsx)(d.jO,{defaultValue:null===c||void 0===c?void 0:c.refundwithinday,value:w,onChange:function(e){return _(e.target.value)},placeholder:"Enter refund with day",autoComplete:"planname",type:"number"})]})}),(0,t.jsx)(d.b7,{children:(0,t.jsxs)(d.YR,{className:"mb-3",children:[(0,t.jsx)(d.wV,{children:(0,t.jsx)("i",{className:"fa fa-rupee"})}),(0,t.jsx)(d.jO,{defaultValue:null===c||void 0===c?void 0:c.refundpercentage,value:V,onChange:function(e){return Z(e.target.value)},placeholder:"Enter your percentage for refund amount",type:"number"})]})})]}),(0,t.jsx)("div",{className:"d-grid",onClick:function(){return function(){var e={planid:b,createdbyuserid:R,refundwithinday:w,refundpercentage:V,status:!0},n={_id:null===c||void 0===c?void 0:c._id,planid:b,createdbyuserid:R,refundwithinday:w,refundpercentage:V,status:!0};o.be.post("v.1.0/refundPlan/post-refund-polices",(0,o.xb)(null===c||void 0===c?void 0:c._id)?e:n).then((function(e){console.log("update",e.data.data),e.data.status?(alert(e.data.message),P(),v(),r()):alert(e.data.message)}))}()},children:(0,t.jsx)(d.u5,{className:"update_btn",children:(0,o.xb)(null===c||void 0===c?void 0:c._id)?"Add":"Update"})})]})]})},r=a(99946),c=function(){var e=(0,i.useState)(),n=(0,l.Z)(e,2),a=n[0],c=n[1],v=(0,i.useState)(!1),p=(0,l.Z)(v,2),h=p[0],f=p[1],m=(0,i.useState)(),x=(0,l.Z)(m,2),j=x[0],b=x[1],g=(0,s.s0)(),N=function(){o.be.get("v.1.0/refundPlan/get-all-policies").then((function(e){var n,a;(console.log("ddd",e.data),null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.status)&&c(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data)})).catch((function(e){g("404"),console.log("Error",e)}))};(0,i.useEffect)((function(){N()}),[]);return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:(0,t.jsx)("div",{onClick:function(){return b(),void f(!0)},className:"button-1",children:"+ Add New Refund Polices"})}),(0,t.jsxs)(d.Sx,{children:[(0,t.jsx)(d.V,{children:(0,t.jsxs)(d.T6,{children:[(0,t.jsx)(d.is,{scope:"col",className:"fw-bold",children:"#"}),(0,t.jsx)(d.is,{scope:"col",className:"fw-bold",children:"Plan Name"}),(0,t.jsx)(d.is,{scope:"col",className:"fw-bold",children:"Refund Percentage"}),(0,t.jsx)(d.is,{scope:"col",className:"fw-bold",children:"Refund Within Day"}),(0,t.jsx)(d.is,{scope:"col",className:"fw-bold",children:"Status"}),(0,t.jsx)(d.is,{scope:"col",className:"fw-bold",children:"Action"})]})}),(0,t.jsx)(d.NR,{className:"body-divider",children:(null===a||void 0===a?void 0:a.length)>0&&(null===a||void 0===a?void 0:a.map((function(e,n){var a;return(0,t.jsxs)(d.T6,{children:[(0,t.jsx)(d.is,{scope:"row",children:n+1}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.NN,{children:(0,o.gw)(null===e||void 0===e||null===(a=e.planinfo[0])||void 0===a?void 0:a.planname)}),(0,t.jsx)(d.NN,{children:null===e||void 0===e?void 0:e.refundpercentage}),(0,t.jsx)(d.NN,{children:null===e||void 0===e?void 0:e.refundwithinday}),(0,t.jsx)(d.NN,{children:null!==e&&void 0!==e&&e.status?"Active":"Inactive"})]}),(0,t.jsxs)(d.rb,{className:"gym_action mx-auto",children:[(0,t.jsx)(d.b7,{className:"",children:(0,t.jsx)(d.DW,{rounded:!0,src:r.dT,className:"icons"})}),(0,t.jsx)(d.b7,{onClick:function(){return function(e){b(e),f(!0)}(e)},className:"",children:(0,t.jsx)(d.DW,{rounded:!0,src:r._t,className:"icons"})}),(0,t.jsx)(d.b7,{onClick:function(){return n=null===e||void 0===e?void 0:e._id,console.log("value",n),void o.bl.delete("v.1.0/refundPlan/delete-refund-policies/".concat(n)).then((function(e){var n,a,l;null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.status?(alert(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message),N()):alert(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.message)})).catch((function(e){console.log("error",e),alert("Something went wrong")}));var n},className:"",children:(0,t.jsx)(d.DW,{rounded:!0,src:r.X_,className:"icons"})})]})]},n)})))})]}),(0,t.jsx)(u,{isshowform:h,onClose:function(){return f(!1)},data:j,onSave:function(){return N()}})]})}}}]);
//# sourceMappingURL=1777.797a4ec5.chunk.js.map